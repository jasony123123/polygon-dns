var dnsapi; const api_setup = async (address) => { const DNS = await ethers.getContractFactory('DomainNameService'); dnsapi = await DNS.attach(address); }; const api_price = async (name) => { return await dnsapi.price(name); }; const api_free = async (name) => { return await dnsapi.free(name); }; const api_resolve = async (name) => { return await dnsapi.resolve(name); }; const api_register = async (name, money) => { return await dnsapi.register(name, { value: hre.ethers.utils.parseEther(money) }); }; const api_send = async (domain_name, amount) => { address = await api_resolve(domain_name); const signer = ethers.provider.getSigner(); const tx = signer.sendTransaction({ to: address, value: ethers.utils.parseEther(amount) }); await tx; }